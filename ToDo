ToDo.md
1. Базовая настройка проекта
Убедиться, что все миграции выполнены (npx prisma migrate dev).
Настроить .env файл с переменными окружения (например, DATABASE_URL).
Убедиться, что все модели Prisma корректно связаны между собой.
Добавить минимальные DTO для всех моделей (для будущей валидации).
2. Аутентификация и авторизация
Реализовать регистрацию и вход пользователей (JWT-токены).
Добавить Guard для защиты маршрутов.
Добавить роли пользователей (user, premium, admin) и проверку ролей.
3. Тесты
Создать базовый CRUD для тестов:
Создание теста.
Получение списка тестов.
Получение деталей теста.
Обновление теста.
Удаление теста.
Добавить связь тестов с категориями, темами и подтемами.
Реализовать базовую логику прохождения тестов (без сложной системы подсчета баллов).
4. Бейджи и опыт
Создать базовые методы для начисления опыта:
Метод addExperience(userId, badgeType, amount).
Реализовать проверку повышения уровня (без сложных правил).
Добавить метод для выдачи бейджей при повышении уровня.
5. Рейтинги
Создать базовые методы для добавления рейтингов:
Метод addRating(userId, testId, ratingValue, description).
Реализовать получение среднего рейтинга теста.
6. Подписки
Создать базовые методы для управления подписками:
Метод createSubscription(userId, plan, startDate, endDate).
Добавить проверку активности подписки.
7. Группы
Создать базовые методы для работы с группами:
Создание группы.
Добавление пользователей в группу.
Реализовать связь групп с тестами.
8. Лимиты
Создать базовые методы для работы с лимитами:
Проверка текущего лимита (checkTestLimit(userId, limitType)).
Обновление счетчика использованных попыток.
9. Ответы и вопросы
Создать базовые методы для работы с вопросами и ответами:
Создание вопроса.
Добавление вариантов ответов.
Сохранение ответов пользователя.
10. Документация
Добавить комментарии к коду.
Написать базовую документацию API (например, с помощью Swagger).
Описать структуру базы данных и связи между таблицами.
11. Тестирование
Написать unit-тесты для базовых методов.
Протестировать основные сценарии использования (регистрация, создание тестов, прохождение тестов).

Что можно отложить на потом?
Сложные правила начисления опыта:
Например, разные коэффициенты для разных типов действий.
Уникальные бейджи:
Например, сезонные или ограниченные по времени бейджи.
Расширенная система рейтингов:
Например, общий рейтинг создателя или фильтрация отзывов.
Интеграция с платежными системами:
Например, Stripe или PayPal для оплаты подписок.
Роли и права доступа в группах:
Например, администраторы групп, модераторы.
Аналитика:
Например, статистика по тестам и пользователям.

план
написание тестов для модулей user, auth, test
